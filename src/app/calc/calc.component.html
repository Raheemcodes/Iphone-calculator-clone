<div class="container" #container>
  <div class="calc-container">
    <div
      class="input-control"
      (touchstart)="onTouchStart($event)"
      (touchmove)="onTouchMove($event)"
      (touchend)="onTouchEnd()"
      (mousedown)="onTouchStart($event)"
      (mousemove)="onTouchMove($event)"
      (mouseup)="onTouchEnd()"
      (window:keydown.code.Backspace)="backspace()"
    >
      <input
        #input
        tabindex="-1"
        class="input-field"
        type="text"
        readonly
        [value]="value"
      />
    </div>

    <div class="characters-container">
      <button
        #clearBtn
        tabindex="-1"
        (click)="highlight($event)"
        (window:keydown.code.Control.KeyC)="
          highlight({ currentTarget: clearBtn })
        "
        (window:keydown.code.Control.KeyC)="clear()"
        (click)="clear()"
        class="special-btn"
      >
        {{ +_value > 0 ? 'C' : 'AC' }}
      </button>

      <button
        #quote
        tabindex="-1"
        (click)="highlight($event)"
        (window:keydown.code.Shift.Backquote)="
          highlight({ currentTarget: quote })
        "
        (window:keydown.code.Shift.Backquote)="special('+/-')"
        (click)="special('+/-')"
        class="special-btn"
      >
        <sup>+</sup><span>/</span><sub>-</sub>
      </button>

      <button
        #shift5
        tabindex="-1"
        (click)="highlight($event)"
        (window:keydown.code.Shift.Digit5)="
          highlight({ currentTarget: shift5 })
        "
        (window:keydown.code.Shift.Digit5)="special('%')"
        (click)="special('%')"
        class="special-btn"
      >
        %
      </button>

      <button
        #div
        tabindex="-1"
        (click)="highlight($event)"
        (window:keydown.code.Slash)="highlight({ currentTarget: div })"
        (window:keydown.code.Slash)="arithmetic('/')"
        class="arithmetic-btn"
        (click)="arithmetic('/')"
      >
        &div;
      </button>

      <button
        #seven
        tabindex="-1"
        (click)="highlight($event)"
        (window:keydown.code.Digit7)="highlight({ currentTarget: seven })"
        (window:keydown.code.Digit7)="value = '7'"
        (click)="value = '7'"
      >
        7
      </button>

      <button
        #eight
        tabindex="-1"
        (window:keydown.code.Digit8)="highlight({ currentTarget: eight })"
        (window:keydown.code.Digit8)="value = '8'"
        (click)="highlight($event)"
        (click)="value = '8'"
      >
        8
      </button>

      <button
        #nine
        tabindex="-1"
        (window:keydown.code.Digit9)="highlight({ currentTarget: nine })"
        (window:keydown.code.Digit9)="value = '9'"
        (click)="highlight($event)"
        (click)="value = '9'"
      >
        9
      </button>

      <button
        #mul
        tabindex="-1"
        class="arithmetic-btn"
        (click)="highlight($event)"
        (window:keydown.code.Shift.Digit8)="highlight({ currentTarget: mul })"
        (window:keydown.code.Shift.Digit8)="arithmetic('*')"
        (click)="arithmetic('*')"
      >
        &times;
      </button>

      <button
        #four
        tabindex="-1"
        (click)="highlight($event)"
        (window:keydown.code.Digit4)="highlight({ currentTarget: four })"
        (window:keydown.code.Digit4)="value = '4'"
        (click)="value = '4'"
      >
        4
      </button>

      <button
        #five
        tabindex="-1"
        (click)="highlight($event)"
        (window:keydown.code.Digit5)="highlight({ currentTarget: five })"
        (window:keydown.code.Digit5)="value = '5'"
        (click)="value = '5'"
      >
        5
      </button>

      <button
        #six
        tabindex="-1"
        (click)="highlight($event)"
        (window:keydown.code.Digit6)="highlight({ currentTarget: six })"
        (window:keydown.code.Digit6)="value = '6'"
        (click)="value = '6'"
      >
        6
      </button>

      <button
        #minus
        tabindex="-1"
        class="arithmetic-btn"
        (click)="highlight($event)"
        (window:keydown.code.Minus)="highlight({ currentTarget: minus })"
        (window:keydown.code.Minus)="arithmetic('-')"
        (click)="arithmetic('-')"
      >
        &minus;
      </button>

      <button
        #one
        tabindex="-1"
        (click)="highlight($event)"
        (window:keydown.code.Digit1)="highlight({ currentTarget: one })"
        (window:keydown.code.Digit1)="value = '1'"
        (click)="value = '1'"
      >
        1
      </button>

      <button
        #two
        tabindex="-1"
        (click)="highlight($event)"
        (window:keydown.code.Digit2)="highlight({ currentTarget: two })"
        (window:keydown.code.Digit2)="value = '2'"
        (click)="value = '2'"
      >
        2
      </button>

      <button
        #three
        tabindex="-1"
        (click)="highlight($event)"
        (window:keydown.code.Digit3)="highlight({ currentTarget: three })"
        (window:keydown.code.Digit3)="value = '3'"
        (click)="value = '3'"
      >
        3
      </button>

      <button
        #plus
        tabindex="-1"
        class="arithmetic-btn"
        (click)="highlight($event)"
        (window:keydown.code.Shift.Equal)="arithmetic('+')"
        (window:keydown.code.Shift.Equal)="highlight({ currentTarget: plus })"
        (click)="arithmetic('+')"
      >
        +
      </button>

      <button
        #zero
        tabindex="-1"
        (click)="highlight($event)"
        (window:keydown.code.Digit0)="highlight({ currentTarget: zero })"
        (window:keydown.code.Digit0)="value = '0'"
        (click)="value = '0'"
        class="zero"
      >
        0
      </button>

      <button
        #period
        tabindex="-1"
        (click)="highlight($event)"
        (window:keydown.code.Period)="highlight({ currentTarget: period })"
        (window:keydown.code.Period)="value = '.'"
        (click)="value = '.'"
      >
        .
      </button>

      <button
        #equal
        tabindex="-1"
        (click)="highlight($event)"
        class="arithmetic-btn equal"
        (window:keydown.code.Enter)="highlight({ currentTarget: equal })"
        (window:keydown.code.Equal)="highlight({ currentTarget: equal })"
        (window:keydown.code.Enter)="equate()"
        (window:keydown.code.Equal)="equate()"
        (click)="equate()"
      >
        =
      </button>
    </div>
  </div>
</div>
